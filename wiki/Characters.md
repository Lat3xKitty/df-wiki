# Characters

<div class="btn-group">
  <button class="btn" onclick="sortList('alpha')">Alphabetical</button>
  <button class="btn" onclick="sortList('story')">Story</button>
</div>

<section id="list">

  <h3 id="A">A</h3>
  <p>
    <span data-story="VelzeasInvasion">
        <a href="https://lat3xkitty.com/df-wiki/char_Aimi">Aimi</a>
    </span>
  </p>
  <p>
    <span data-story="TTIBAS,FourTightWomen">
      <a href="https://lat3xkitty.com/df-wiki/char_Alice">Alice</a>
    </span>
  </p>
  <p>
    <span data-story="MTF">
      <a href="https://lat3xkitty.com/df-wiki/char_Angela">Angela</a>
    </span>
  </p>
  <p>
    <span data-story="TTIBAS">
      <a href="https://lat3xkitty.com/df-wiki/char_Annie">Annie</a>
    </span>
  </p>
  <p>
    <span data-story="MTF">
      <a href="https://lat3xkitty.com/df-wiki/char_AnnSmith">Ann Smith</a>
    </span>
  </p>

  <h3 id="C">C</h3>
  <p>
    <span data-story="MTF,Monthly">
      <a href="https://lat3xkitty.com/df-wiki/char_Cass">Cass</a>
    </span>
  </p>
  <p>
    <span data-story="LyraChronicles">
      <a href="https://lat3xkitty.com/df-wiki/char_Celeste">Celeste</a>
    </span>
  </p>
  <p>
    <span data-story="LyraChronicles">
      <a href="https://lat3xkitty.com/df-wiki/char_Chari">Chari</a>
    </span>
  </p>
  <p>
    <span data-story="VelzeasInvasion">
      <a href="https://lat3xkitty.com/df-wiki/char_Chea">Chea</a>
    </span>
  </p>
  <p>
    <span data-story="Monthly">
      <a href="https://lat3xkitty.com/df-wiki/char_Chris_Rino">Chris Rino</a>
    </span>
  </p>
  <p>
    <span data-story="TLITD">
      <a href="https://lat3xkitty.com/df-wiki/char_Chris">Chris</a>
    </span>
  </p>
  <p>
    <span data-story="TTIBAS">
      <a href="https://lat3xkitty.com/df-wiki/char_Claire">Claire</a>
    </span>
  </p>
  <p>
    <span data-story="MTF">
      <a href="https://lat3xkitty.com/df-wiki/char_Clerys">Clerys</a>
    </span>
  </p>
  <p>
    <span data-story="TLITD">
      <a href="https://lat3xkitty.com/df-wiki/char_Cybal">Cybal</a>
    </span>
  </p>

  <h3 id="D">D</h3>
  <p>
    <span data-story="TLITD">
      <a href="https://lat3xkitty.com/df-wiki/char_DarknessLords">Darkness Lords</a>
    </span>
  </p>
  <p>
    <span data-story="TLITD,Monthly">
      <a href="https://lat3xkitty.com/df-wiki/char_DrVonDerDage">Doctor Von Der Dage</a>
    </span>
  </p>

  <h3 id="E">E</h3>
  <p>
    <span data-story="Monthly">
      <a href="https://lat3xkitty.com/df-wiki/char_ER1S">ER1S</a>
    </span>
  </p>

  <h3 id="F">F</h3>
  <p>
    <span data-story="VelzeasOrigin">
      <a href="https://lat3xkitty.com/df-wiki/char_Ferta">Ferta</a>
    </span>
  </p>
  <p>
    <span data-story="VelzeasInvasion">
      <a href="https://lat3xkitty.com/df-wiki/char_Feshen">Feshen</a>
    </span>
  </p>

  <h3 id="H">H</h3>
  <p>
    <span data-story="MTF">
      <a href="https://lat3xkitty.com/df-wiki/char_Heltia">Heltia</a>
    </span>
  </p>

  <h3 id="J">J</h3>
  <p>
    <span data-story="MTF">
      <a href="https://lat3xkitty.com/df-wiki/char_Jean">Jean</a>
    </span>
  </p>
  <p>
    <span data-story="Monthly">
      <a href="https://lat3xkitty.com/df-wiki/char_Jelly">Jelly</a>
    </span>
  </p>
  <p>
    <span data-story="VelzeasOrigin,FourTightWomen">
      <a href="https://lat3xkitty.com/df-wiki/char_Jiyu">Jiyu</a>
    </span>
  </p>

  <h3 id="K">K</h3>
  <p>
    <span data-story="Monthly">
      <a href="https://lat3xkitty.com/df-wiki/char_Kana_Monthly">Kana (Monthly)</a>
    </span>
  </p>
  <p>
    <span data-story="MTF">
      <a href="https://lat3xkitty.com/df-wiki/char_Kana_MTF">Kana (MTF)</a>
    </span>
  </p>
  <p>
    <span data-story="TLITD">
      <a href="https://lat3xkitty.com/df-wiki/char_Kate">Kate</a>
    </span>
  </p>
  <p>
    <span data-story="MTF">
      <a href="https://lat3xkitty.com/df-wiki/char_Katt">Katt</a>
    </span>
  </p>
  <p>
    <span data-story="MTF">
      <a href="https://lat3xkitty.com/df-wiki/char_Kokei">Kokei</a>
    </span>
  </p>
  <p>
    <span data-story="VelzeasOrigin">
      <a href="https://lat3xkitty.com/df-wiki/char_Kuro">Kuro</a>
    </span>
  </p>

  <h3 id="L">L</h3>
  <p>
    <span data-story="MTF">
      <a href="https://lat3xkitty.com/df-wiki/char_Laia">Laia</a>
    </span>
  </p>
  <p>
    <span data-story="MTF">
      <a href="https://lat3xkitty.com/df-wiki/char_Laura">Laura</a>
    </span>
  </p>
  <p>
    <span data-story="MTF">
      <a href="https://lat3xkitty.com/df-wiki/char_Lean">Lean</a>
    </span>
  </p>
  <p>
    <span data-story="TLITD">
      <a href="https://lat3xkitty.com/df-wiki/char_Leena">Leena</a>
    </span>
  </p>
  <p>
    <span data-story="TTIBAS">
      <a href="https://lat3xkitty.com/df-wiki/char_Lia">Lia</a>
    </span>
  </p>
  <p>
    <span data-story="LyraChronicles,MTF,FourTightWomen">
      <a href="https://lat3xkitty.com/df-wiki/char_Lyra">Lyra</a>
    </span>
  </p>

  <h3 id="M">M</h3>
  <p>
    <span data-story="TTIBAS">
      <a href="https://lat3xkitty.com/df-wiki/char_Mae">Mae</a>
    </span>
  </p>
  <p>
    <span data-story="TTIBAS">
      <a href="https://lat3xkitty.com/df-wiki/char_Maya">Maya</a>
    </span>
  </p>
  <p>
    <span data-story="VelzeasOrigin">
      <a href="https://lat3xkitty.com/df-wiki/char_Metzea">Metzea</a>
    </span>
  </p>
  <p>
    <span data-story="VelzeasInvasion">
      <a href="https://lat3xkitty.com/df-wiki/char_Mizuki">Mizuki</a>
    </span>
  </p>
  <p>
    <span data-story="TTIBAS">
      <a href="https://lat3xkitty.com/df-wiki/char_Monica">Monica</a>
    </span>
  </p>

  <h3 id="N">N</h3>
  <p>
    <span data-story="LyraChronicles">
      <a href="https://lat3xkitty.com/df-wiki/char_Nia">Nia</a>
    </span>
  </p>
  <p>
    <span data-story="VelzeasInvasion">
      <a href="https://lat3xkitty.com/df-wiki/char_Noriko">Noriko</a>
    </span>
  </p>

  <h3 id="R">R</h3>
  <p>
    <span data-story="MTF,Monthly">
      <a href="https://lat3xkitty.com/df-wiki/char_Ribimura">Ribimura</a>
    </span>
  </p>
  <p>
    <span data-story="TLITD">
      <a href="https://lat3xkitty.com/df-wiki/char_Rim">Rim</a>
    </span>
  </p>
  <p>
    <span data-story="LyraChronicles">
      <a href="https://lat3xkitty.com/df-wiki/char_Rosaline">Rosaline</a>
    </span>
  </p>
  <p>
    <span data-story="MTF">
      <a href="https://lat3xkitty.com/df-wiki/char_Rose">Rose</a>
    </span>
  </p>

  <h3 id="S">S</h3>
  <p>
    <span data-story="VelzeasInvasion">
      <a href="https://lat3xkitty.com/df-wiki/char_Saya">Saya</a>
    </span>
  </p>
  <p>
    <span data-story="MTF">
      <a href="https://lat3xkitty.com/df-wiki/char_Scarlett">Scarlett</a>
    </span>
  </p>
  <p>
    <span data-story="VelzeasOrigin">
      <a href="https://lat3xkitty.com/df-wiki/char_Seleena">Seleena</a>
    </span>
  </p>
  <p>
    <span data-story="VelzeasOrigin">
      <a href="https://lat3xkitty.com/df-wiki/char_Shiori">Shiori</a>
    </span>
  </p>
  <p>
    <span data-story="VelzeasInvasion">
      <a href="https://lat3xkitty.com/df-wiki/char_Shizuka">Shizuka</a>
    </span>
  </p>
  <p>
    <span data-story="MTF">
      <a href="https://lat3xkitty.com/df-wiki/char_Silver">Silver</a>
    </span>
  </p>
  <p>
    <span data-story="LyraChronicles">
      <a href="https://lat3xkitty.com/df-wiki/char_Skye">Skye</a>
    </span>
  </p>
  <p>
    <span data-story="MTF">
      <a href="https://lat3xkitty.com/df-wiki/char_Solace">Solace</a>
    </span>
  </p>

  <h3 id="T">T</h3>
  <p>
    <span data-story="LyraChronicles">
      <a href="https://lat3xkitty.com/df-wiki/char_TriKats">TriKats</a>
    </span>
  </p>

  <h3 id="V">V</h3>
  <p>
    <span data-story="VelzeasInvasion,VelzeasOrigin">
      <a href="https://lat3xkitty.com/df-wiki/char_Velzea">Velzea</a>
    </span>
  </p>

  <h3 id="Y">Y</h3>
  <p>
    <span data-story="TTIBAS,FourTightWomen">
      <a href="https://lat3xkitty.com/df-wiki/char_Yuuki">Yuuki</a>
    </span>
  </p>

</section>


<script>
  let currentSort = 'alpha';
  const elm_List = document.getElementById('list');

  const storyList = {
    'VelzeasInvasion' : "Velzea's Invasion",
    'VelzeasOrigin'   : "Velzea's Origin",
    'TTIBAS'          : "That Time I became a Succubus",
    'MTF'             : "My True Fate",
    'Monthly'         : "Monthly",
    'TLITD'           : "The Light in the Dark",
    'LyraChronicles'  : "Lyra's Chronicles",
    'FourTightWomen'  : "Four Tight Women"
  };

  function sortList(sortType) {
    if (currentSort === sortType)  return;
    currentSort = sortType;

    const list = elm_List.querySelectorAll('span[data-story]');
    const keyList = [];

    list.forEach((item) => {
      switch (sortType) {
        default:
        case 'alpha':
          const key = item.textContent.trim()[0].toUpperCase();
          keyList[key] = keyList[key] || [];
          keyList[key].push(item);
          break;
        case 'story':
          const stories = item.getAttribute('data-story').split(',');

          stories.forEach((story) => {
            keyList[story] = keyList[story] || [];
            keyList[story].push(item.cloneNode(true));
          });
          break;
      }
    });
    
    elm_List.innerHTML = '';

    console.log(keyList);

    Object.keys(keyList).sort().forEach((key) => {
      const header = document.createElement('h3');
      let sortedList = keyList[key].sort();
      var displayKey = key;

      switch(sortType) {
        case 'story':
          // Display the story name in clean format
          displayKey = storyList[key] || key;
          break;

        case 'alpha':
          // Clean up duplicates
          sortedList = sortedList.filter((item, index, self) =>
            self.findIndex((t) => t.textContent === item.textContent) === index
          );
          break;
      }


      header.textContent = displayKey;
      header.id = key;
      elm_List.appendChild(header);

      sortedList.forEach((item) => {
        const p = document.createElement('p');
        p.appendChild(item);

        elm_List.appendChild(p);
      });
    });
  }
</script>